<navbar></navbar>
<div class="container-fluid">
    <div class="row well" style="background-color: #EF9A9A; color: #B71C1C">
        <p>
            <center>
                The platform is under development.
                In case of any bugs, errors, invisible options, please reload the page.
            </center>
        </p>
    </div>
    <div class="row">
        <div class="row pad-up">
            <div class="col-md-10 col-md-offset-1">
                <div class="row">
                    <div class="col-md-6">
                        <div class="input-group">
                            <div class="input-group-btn" data-toggle="tooltip" data-placement="top" title="Select the category of problems">
                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" ng-disabled="!main.categories_ready">Category <span class="caret"></span></button>
                                <ul class="dropdown-menu">
                                    <li ng-repeat="category in main.categories"><a href="#" ng-click="main.select_category(category)">{{category.name}}</a></li>
                                    <li class="disabled" data-toggle="tooltip" data-placement="bottom" title="The data for this category is currently being curated"><a href="#">Divide and conquer</a></li>
                                    <li class="disabled" data-toggle="tooltip" data-placement="bottom" title="The data for this category is currently being curated"><a href="#">Monte Carlo</a></li>
                                    <li class="disabled" data-toggle="tooltip" data-placement="bottom" title="The data for this category is currently being curated"><a href="#">Map Reduce</a></li>
                                    <li class="disabled" data-toggle="tooltip" data-placement="bottom" title="The data for this category is currently being curated"><a href="#">Image Processing</a></li>
                                    <li class="disabled" data-toggle="tooltip" data-placement="bottom" title="The data for this category is currently being curated"><a href="#">Graph Algorithms</a></li>
                                </ul>
                            </div>
                            <input type="text" class="form-control" placeholder="Category" value="{{main.selected_category.name}}" disabled>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="input-group">
                            <div class="input-group-btn" data-toggle="tooltip" data-placement="top" title="Select the problem to analyse">
                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" ng-disabled="!main.problems_ready">Problem <span class="caret"></span></button>
                                <ul class="dropdown-menu">
                                    <li ng-repeat="problem in main.problems"><a href="#" ng-click="main.select_problem(problem)">{{problem.name}}</a></li>
                                </ul>
                            </div>
                            <input type="text" class="form-control" placeholder="Problem" value="{{main.selected_problem.name}}" disabled>
                        </div>
                    </div>
                </div>
                <div class="row pad-up">
                    <div class="col-md-12">
                        <center>
                            <label class="radio-inline">
                                <input type="radio" ng-model="main.selected_memory" value="shared"> Shared Memory
                            </label>
                            <label class="radio-inline">
                                <input type="radio" ng-model="main.selected_memory" value="distributed" disabled> Distributed Memory
                            </label>
                        </center>
                    </div>
                </div>
                <div class="row pad-up">
                    <div class="col-md-4 col-md-offset-4">
                        <center>
                            <button class="btn btn-default btn-success" ng-click="main.get_problem_data()" data-toggle="tooltip" data-placement="top" title="Click here for further filtering">Get Machine, Approach and Programming Environments</button>
                        </center>
                    </div>
                </div>
            </div>
        </div>
        <hr />
        <div class="row" ng-if="main.peam_data_ready" ng-init="main.activate_tooltip()">
            <div class="col-md-12">
                <div class="row pad-up">
                    <div class="col-md-4 well main-hover-green" ng-click="main.compare='machines'" ng-class="{'main-blue': main.compare=='machines'}" data-toggle="tooltip" data-placement="top" title="Click here to compare different machines">
                        <center>
                            Compare Machines
                        </center>
                    </div>
                    <div class="col-md-4 well main-hover-green" ng-click="main.compare='approaches'" ng-class="{'main-blue': main.compare=='approaches'}" data-toggle="tooltip" data-placement="top" title="Click here to compare different approaches">
                        <center>
                            Compare Approaches
                        </center>
                    </div>
                    <div class="col-md-4 well main-hover-green" ng-click="main.compare=''" ng-class="{'main-blue': main.compare=='penv'}" data-toggle="tooltip" data-placement="top" title="Feature currently in development">
                        <center>
                            Compare Programming Environments
                        </center>
                    </div>
                </div>
                <div class="row pad-up" ng-if="main.compare=='machines'">
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col-md-4 col-md-offset-4">
                                <label for="abc">Machines</label>
                                <multiselect id="abc" ng-model="main.cm.selected_machines" options="main.machines" display-prop="model_name" id-prop="_id"></multiselect>
                            </div>
                        </div>
                        <div class="row pad-up">
                            <div class="col-md-4 col-md-offset-1">
                                <div class="input-group">
                                    <div class="input-group-btn">
                                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" ng-click="main.cm.update_approaches()">Approach <span class="caret"></span></button>
                                        <ul class="dropdown-menu">
                                            <li ng-repeat="approach in main.cm.approaches"><a href="#" ng-click="main.cm.selected_approach = approach;">{{approach.approach_name}}</a></li>
                                        </ul>
                                    </div>
                                    <input type="text" class="form-control" placeholder="Approach" value="{{main.cm.selected_approach.approach_name}}" disabled />
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="input-group">
                                    <div class="input-group-btn">
                                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Environment<span class="caret"></span></button>
                                        <ul class="dropdown-menu">
                                            <!-- <li ng-repeat="penv in main.penvs"><a href="#" ng-click="">{{penv.name}}</a></li> -->
                                            <li><a href="#" ng-click="main.cm.selected_penv.name = 'OpenMP'">OpenMP</a></li>
                                            <li class="disabled"><a href="#" ng-click="">Java Threads</a></li>
                                            <li class="disabled"><a href="#" ng-click="">Pthreads</a></li>
                                        </ul>
                                    </div>
                                    <input type="text" class="form-control" placeholder="Programming Environment" value="{{main.cm.selected_penv.name}}" disabled />
                                </div>
                            </div>
                            <div class="col-md-1">
                                <center>
                                    <button class="btn btn-default btn-primary" ng-click="main.cm.set_data()">Set Data</button>
                                </center>
                            </div>
                        </div>
                        <div class="row" ng-if="main.cm.data_set">
                            <div class="col-md-12">
                                <ul class="list-inline pad-up col-md-12">
                                    <li ng-repeat="(machine_id, machine) in main.cm.selected_machines" class="list-group-item col-md-12">
                                        <div class="row">
                                            <div class="col-md-2">
                                                <label for="abc2">Thread count (0 = Serial)</label>
                                                <multiselect id="abc2" ng-model="machine.selected_threads" options="machine.unique_thread_counts"></multiselect>
                                            </div>
                                            <div class="col-md-7">
                                                <input type="text" class="form-control" disabled value="{{machine.model_name}}"></input>
                                            </div>
                                            <div class="col-md-2">
                                                <center>
                                                    E2E<input type="checkbox" ng-model="machine.plot_e2e"> ALG
                                                    <input type="checkbox" ng-model="machine.plot_alg">
                                                </center>
                                            </div>
                                            <div class="col-md-1">
                                                <button class="btn btn-default btn-primary" ng-click="main.cm.update_chart(machine)">Update</button>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="row pad-up">
                            <div class="row">
                                <div class="col-md-10 col-md-offset-1 well">
                                    <div id="cm_chart_div"></div>
                                    <div class="overlay">
                                        <div style="font-family:'Arial Black'; font-size: 14px;">&copy; Created using HPC Plotter, DA-IICT</div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4 col-md-offset-2 well">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <button type="button" class="btn btn-default btn-block" ng-class="{active: main.cm.chart_options.hAxis.logScale}" ng-click="main.cm.chart_options.hAxis.logScale=true; main.refresh_chart(main.cm.active_chart, 'cm')">X-axis: Log</button>
                                        </div>
                                        <div class="col-md-6">
                                            <button type="button" class="btn btn-default btn-block" ng-class="{active: !main.cm.chart_options.hAxis.logScale}" ng-click="main.cm.chart_options.hAxis.logScale=false; main.refresh_chart(main.cm.active_chart, 'cm')">X-axis: Linear</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 well">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <button type="button" class="btn btn-default btn-block" ng-class="{active: main.cm.chart_options.vAxis.logScale}" ng-click="main.cm.chart_options.vAxis.logScale=true; main.refresh_chart(main.cm.active_chart, 'cm')">Y-axis: Log</button>
                                        </div>
                                        <div class="col-md-6">
                                            <button type="button" class="btn btn-default btn-block" ng-class="{active: !main.cm.chart_options.vAxis.logScale}" ng-click="main.cm.chart_options.vAxis.logScale=false; main.refresh_chart(main.cm.active_chart, 'cm')">Y-axis: Linear</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-10 col-md-offset-1 well">
                                <div class="col-md-2 col-md-offset-1">
                                    <button type="button" class="btn btn-default btn-block" ng-class="{active: main.cm.active_chart=='efficiency'}" ng-click="main.refresh_chart('efficiency', 'cm')">Efficiency</button>
                                </div>
                                <div class="col-md-2">
                                    <button type="button" class="btn btn-default btn-block" ng-class="{active: main.cm.active_chart=='karpflatt'}" ng-click="main.refresh_chart('karpflatt', 'cm')">Karp-Flatt metric</button>
                                </div>
                                <div class="col-md-2">
                                    <button type="button" class="btn btn-default btn-block" ng-class="{active: main.cm.active_chart=='speedup'}" ng-click="main.refresh_chart('speedup', 'cm')">Speedup</button>
                                </div>
                                <div class="col-md-2">
                                    <button type="button" class="btn btn-default btn-block" ng-class="{active: main.cm.active_chart=='timeseries'}" ng-click="main.refresh_chart('timeseries', 'cm')">Execution time</button>
                                </div>
                                <div class="col-md-2">
                                    <button type="button" class="btn btn-primary btn-block" ng-click="main.export_chart('cm')">Export Graph</a>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-10 col-md-offset-1">
                                <h2>Selected Machines</h2>
                                <table class="table">
                                    <tr>
                                        <th>Model name</th>
                                        <th>Architecture</th>
                                        <th>Threads per Core</th>
                                        <th>Vendor</th>
                                        <th>CPU (Mhz)</th>
                                        <th>L1d cache</th>
                                        <th>L1i cache</th>
                                    </tr>
                                    <tr ng-repeat="machine in main.cm.selected_machines">
                                        <td>{{machine.model_name}}</td>
                                        <td>{{machine.architecture}}</td>
                                        <td>{{machine.threads_per_core}}</td>
                                        <td>{{machine.cpu_family}}</td>
                                        <td>{{machine.cpu_mhz}}</td>
                                        <td>{{machine.L1d_cache}}</td>
                                        <td>{{machine.L1i_cache}}</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-10 col-md-offset-1">
                                <h2>Selected Approach</h2>
                                <p><b>Approach name</b>: {{main.cm.selected_approach.approach_name}}</p>
                                <p><b>Description (Serial)</b>: {{main.cm.selected_approach.descS}}</p>
                                <p><b>Description (Parallel)</b>: {{main.cm.selected_approach.descP}}</p>
                                <p><b>Complexity (Serial)</b>: {{main.cm.selected_approach.complexityS}}</p>
                                <p><b>Complexity (Parallel)</b>: {{main.cm.selected_approach.complexityP}}</p>
                                <p><b>Advantage</b>: {{main.cm.selected_approach.advantage}}</p>
                                <p><b>Disadvantage</b>: {{main.cm.selected_approach.disadvantage}}</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row pad-up" ng-if="main.compare=='approaches'">
                    <div class="col-md-12">
                        <div class="row" ng-if="main.compare=='approaches'">
                            <div class="col-md-4 col-md-offset-4">
                                <label for="abc3">Approach</label>
                                <multiselect id="abc3" ng-model="main.ca.selected_approaches" options="main.approaches" display-prop="approach_name" id-prop="_id"></multiselect>
                            </div>
                        </div>
                        <div class="row pad-up">
                            <div class="col-md-3 col-md-offset-2">
                                <div class="input-group">
                                    <div class="input-group-btn">
                                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" ng-click="main.ca.update_machines()">Machine <span class="caret"></span></button>
                                        <ul class="dropdown-menu">
                                            <li ng-repeat="machine in main.ca.machines"><a href="#" ng-click="main.ca.selected_machine = machine;">{{machine.model_name}}</a></li>
                                        </ul>
                                    </div>
                                    <input type="text" class="form-control" placeholder="Machine" value="{{main.ca.selected_machine.model_name}}" disabled />
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="input-group">
                                    <div class="input-group-btn">
                                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" ng-click="main.ca.update_penvs()">Environment<span class="caret"></span></button>
                                        <ul class="dropdown-menu">
                                            <!-- <li ng-repeat="penv in main.ca.penvs"><a href="#" ng-click="main.ca.selected_penv = penv;">{{penv.name}}</a></li> -->
                                            <li><a href="#" ng-click="main.ca.selected_penv.name = 'OpenMP'">OpenMP</a></li>
                                            <li class="disabled"><a href="#" ng-click="">Java Threads</a></li>
                                            <li class="disabled"><a href="#" ng-click="">Pthreads</a></li>
                                        </ul>
                                    </div>
                                    <input type="text" class="form-control" placeholder="Programming Environment" value="{{main.ca.selected_penv.name}}" disabled />
                                </div>
                            </div>
                            <div class="col-md-1">
                                <center>
                                    <button class="btn btn-default btn-primary" ng-click="main.ca.set_data()">Set Data</button>
                                </center>
                            </div>
                        </div>
                        <div class="row" ng-if="main.ca.data_set">
                            <div class="col-md-12">
                                <ul class="list-inline pad-up col-md-12">
                                    <li ng-repeat="(approach_id, approach) in main.ca.selected_approaches" class="list-group-item col-md-12">
                                        <div class="row">
                                            <div class="col-md-2">
                                                <label for="abc4">Number of threads (0 = serial)</label>
                                                <multiselect id="abc4" ng-model="approach.selected_threads" options="approach.unique_thread_counts"></multiselect>
                                            </div>
                                            <div class="col-md-7">
                                                <input type="text" class="form-control" disabled value="{{approach.approach_name}}"></input>
                                            </div>
                                            <div class="col-md-2">
                                                <center>
                                                    E2E<input type="checkbox" ng-model="approach.plot_e2e">
                                                    ALG<input type="checkbox" ng-model="approach.plot_alg">
                                                </center>
                                            </div>
                                            <div class="col-md-1">
                                                <button class="btn btn-default btn-primary" ng-click="main.ca.update_chart(approach)">Update</button>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="row pad-up">
                            <div class="row">
                                <div class="col-md-10 col-md-offset-1 well">
                                    <div id="ca_chart_div"></div>
                                    <div class="overlay">
                                        <div style="font-family:'Arial Black'; font-size: 14px;">&copy; Created using HPC Plotter, DA-IICT</div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4 col-md-offset-2 well">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <button type="button" class="btn btn-default btn-block" ng-class="{active: main.ca.chart_options.hAxis.logScale}" ng-click="main.ca.chart_options.hAxis.logScale=true; main.refresh_chart(main.ca.active_chart, 'ca')">X-axis: Log</button>
                                        </div>
                                        <div class="col-md-6">
                                            <button type="button" class="btn btn-default btn-block" ng-class="{active: !main.ca.chart_options.hAxis.logScale}" ng-click="main.ca.chart_options.hAxis.logScale=false; main.refresh_chart(main.ca.active_chart, 'ca')">X-axis: Linear</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 well">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <button type="button" class="btn btn-default btn-block" ng-class="{active: main.ca.chart_options.vAxis.logScale}" ng-click="main.ca.chart_options.vAxis.logScale=true; main.refresh_chart(main.ca.active_chart, 'ca')">Y-axis: Log</button>
                                        </div>
                                        <div class="col-md-6">
                                            <button type="button" class="btn btn-default btn-block" ng-class="{active: !main.ca.chart_options.vAxis.logScale}" ng-click="main.ca.chart_options.vAxis.logScale=false; main.refresh_chart(main.ca.active_chart, 'ca')">Y-axis: Linear</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-10 col-md-offset-1 well">
                                <div class="col-md-2 col-md-offset-1">
                                    <button type="button" class="btn btn-default btn-block" ng-class="{active: main.ca.active_chart=='efficiency'}" ng-click="main.refresh_chart('efficiency', 'ca')">Efficiency</button>
                                </div>
                                <div class="col-md-2">
                                    <button type="button" class="btn btn-default btn-block" ng-class="{active: main.ca.active_chart=='karpflatt'}" ng-click="main.refresh_chart('karpflatt', 'ca')">Karp-Flatt metric</button>
                                </div>
                                <div class="col-md-2">
                                    <button type="button" class="btn btn-default btn-block" ng-class="{active: main.ca.active_chart=='speedup'}" ng-click="main.refresh_chart('speedup', 'ca')">Speedup</button>
                                </div>
                                <div class="col-md-2">
                                    <button type="button" class="btn btn-default btn-block" ng-class="{active: main.ca.active_chart=='timeseries'}" ng-click="main.refresh_chart('timeseries', 'ca')">Execution time</button>
                                </div>
                                <div class="col-md-2">
                                    <button type="button" class="btn btn-primary btn-block" ng-click="main.export_chart('ca')">Export Graph</a>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-10 col-md-offset-1">
                                <table class="table">
                                    <h2>Selected Approaches</h2>
                                    <tr>
                                        <th>Approach name</th>
                                        <th>Description (Serial)</th>
                                        <th>Description (Parallel)</th>
                                        <th>Complexity (Serial)</th>
                                        <th>Complexity (Parallel)</th>
                                    </tr>
                                    <tr ng-repeat="approach in main.ca.selected_approaches">
                                        <td>{{approach.approach_name}}</td>
                                        <td>{{approach.descS}}</td>
                                        <td>{{approach.descP}}</td>
                                        <td>{{approach.complexityS}}</td>
                                        <td>{{approach.complexityP}}</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-10 col-md-offset-1">
                                <h2>Selected Machine</h2>
                                <p><b>Model name</b>: {{main.ca.selected_machine.model_name}}</p>
                                <p><b>Architecture</b>: {{main.ca.selected_machine.architecture}}</p>
                                <p><b>Threads per core</b>: {{main.ca.selected_machine.threads_per_core}}</p>
                                <p><b>Socket count</b>: {{main.ca.selected_machine.socket_count}}</p>
                                <p><b>CPU (Mhz)</b>: {{main.ca.selected_machine.cpu_mhz}}</p>
                                <p><b>L1d Cache</b>: {{main.ca.selected_machine.L1d_cache}}</p>
                                <p><b>L1i Cache</b>: {{main.ca.selected_machine.L1i_cache}}</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row pad-up" ng-if="main.compare=='penv'">
                    <div class="col-md-12">
                        <div class="row" ng-if="main.compare=='penv'">
                            <div class="col-md-4 col-md-offset-4">
                                <multiselect ng-model="machine.selected_threads" options="main.approaches" show-select-all="true" show-unselect-all="true"></multiselect>
                            </div>
                        </div>
                        <div class="row pad-up">
                            <div class="col-md-3 col-md-offset-2">
                                <div class="input-group">
                                    <div class="input-group-btn">
                                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Approach <span class="caret"></span></button>
                                        <ul class="dropdown-menu">
                                            <li ng-repeat="machine in main.machines"><a href="#" ng-click="">{{machine.model_name}}</a></li>
                                        </ul>
                                    </div>
                                    <input type="text" class="form-control" placeholder="Approach" value="{{main.selected_machine.model_name}}" disabled />
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="input-group">
                                    <div class="input-group-btn">
                                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Machine<span class="caret"></span></button>
                                        <ul class="dropdown-menu">
                                            <li ng-repeat="machine in main.machines"><a href="#" ng-click="">{{machine.model_name}}</a></li>
                                        </ul>
                                    </div>
                                    <input type="text" class="form-control" placeholder="Machine" value="{{main.selected_penv.name}}" disabled />
                                </div>
                            </div>
                            <div class="col-md-1">
                                <center>
                                    <button class="btn btn-default btn-primary">Update Chart</button>
                                </center>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
